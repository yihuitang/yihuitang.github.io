<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/video.js/dist/video-js.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@videojs/themes@1/dist/fantasy/index.css">
<script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.6.1/jquery.lettering.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/video.js/dist/video.min.js"></script>
<script src="/script/settheme.js"></script><title data-react-helmet="true">构建并发布一个 CodeLab Adapter 插件 | CodeLab</title><meta data-react-helmet="true" property="og:title" content="构建并发布一个 CodeLab Adapter 插件 | CodeLab"><meta data-react-helmet="true" name="description" content="好的软件作品，往往源自于开发者的个人需要 -- 《大教堂与集市》"><meta data-react-helmet="true" property="og:description" content="好的软件作品，往往源自于开发者的个人需要 -- 《大教堂与集市》"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/styles.84b1147b.css">
<link rel="preload" href="/styles.71fb8b2a.js" as="script">
<link rel="preload" href="/runtime~main.676e3002.js" as="script">
<link rel="preload" href="/main.aad9f3c1.js" as="script">
<link rel="preload" href="/1.af123087.js" as="script">
<link rel="preload" href="/2.2944d33e.js" as="script">
<link rel="preload" href="/3.ffbe02f2.js" as="script">
<link rel="preload" href="/ccc49370.9d6295d9.js" as="script">
<link rel="preload" href="/8c95c387.b62ed20c.js" as="script">
</head>
<body>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="My Site Logo"></a><a href="https://create.codelab.club" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">创作平台</a><a class="navbar__item navbar__link" href="/projects">玩给你看</a><a href="https://create.codelab.club/ideas#course" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">课程</a><a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a><a class="navbar__item navbar__link" href="/blog/2020/09/25/about-codelab-2020">关于我们</a><a href="https://github.com/CodeLabClub" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="My Site Logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://create.codelab.club" target="_blank" rel="noopener noreferrer" class="menu__link">创作平台</a></li><li class="menu__list-item"><a class="menu__link" href="/projects">玩给你看</a></li><li class="menu__list-item"><a href="https://create.codelab.club/ideas#course" target="_blank" rel="noopener noreferrer" class="menu__link">课程</a></li><li class="menu__list-item"><a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer" class="menu__link">文档</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">博客</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/2020/09/25/about-codelab-2020">关于我们</a></li><li class="menu__list-item"><a href="https://github.com/CodeLabClub" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_kDB-">构建并发布一个 CodeLab Adapter 插件</h1><div class="margin-vert--md"><time datetime="2019-09-10T00:00:00.000Z" class="blogPostDate_2HVl">2019年9月10日   · 3 min 阅读时长</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">种瓜</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><img class="img-responsive" src="/img/toys_party.jpeg"><blockquote><p>好的软件作品，往往源自于开发者的个人需要 -- 《大教堂与集市》</p></blockquote><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="前言"></a>前言<a aria-hidden="true" tabindex="-1" class="hash-link" href="#前言" title="Direct link to heading">#</a></h1><p>在<a href="/blog/about-opensource">上一篇文章</a>里,我们聊到开源项目与开源社区这两个话题。</p><p>本文将带着大家一起构建一个开源项目，并发布它。</p><p>我们不希望这个例子只是一个展示技术原理的<code>hello world</code>,那样多少有些枯燥，我们希望它跟你的日常生活有关，所以尽可放心往下阅读，它不大无聊，而且一旦你理解之后，可能会乐意对其作些修改，做一些有趣的恶作剧或日常用得到的小工具。</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="关于-codelab-adapter"></a>关于 CodeLab Adapter<a aria-hidden="true" tabindex="-1" class="hash-link" href="#关于-codelab-adapter" title="Direct link to heading">#</a></h1><p><a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a> 是什么东西？</p><p><a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter 的文档</a> 里对此的回答是:</p><blockquote><p>CodeLab Adapter 是由 <a href="http://www.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab</a> 构建的基础项目(v2 是最新版本)，致力于连接万物，无论是软件还是硬件，无论是 AI、开源硬件、现实世界的物体、还是虚拟世界的动画角色，在 CodeLab Adapter 的驱动下，皆可彼此互动。</p></blockquote><p><a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>适合用来构建 AIoT 相关的项目。</p><p>通过前头的例子，想说明的是，在开源社区，项目的文档是一个项目的说明书，阅读文档，通常是不错的起步。</p><p>在<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter 的文档</a> 中，<a href="https://adapter.codelab.club/user_guide/install/" target="_blank" rel="noopener noreferrer">使用文档</a>和<a href="https://adapter.codelab.club/dev_guide/helloworld/" target="_blank" rel="noopener noreferrer">开发者文档</a>都包含其中。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="talk-is-cheap，show-me-demo"></a>Talk is cheap，show me demo<a aria-hidden="true" tabindex="-1" class="hash-link" href="#talk-is-cheap，show-me-demo" title="Direct link to heading">#</a></h3><p>Linux 之父 Linus Torvalds 有句名言:</p><blockquote><p>Talk is cheap. Show me the code.</p></blockquote><p>翻译为中文是:</p><blockquote><p>废话少说，放码过来</p></blockquote><p>可是,当我初次接触一个项目的时候，我是没有耐心直接阅读它的代码的，如果能给我看些视频，看看这个项目都能干些啥就好了。万一它没什么意思，可以尽早离开干点其他的事--止损是现代人的智慧。 不知你是否耐心多些，我对于不感兴趣之事，很难逼着自己在上头花心思，非强迫自己，多半也是做不好的。</p><p>我们先来看看<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>都能用来干嘛: <a href="https://adapter.codelab.club/user_guide/gallery/" target="_blank" rel="noopener noreferrer">https://adapter.codelab.club/user_guide/gallery/</a></p><p>挑两个比较好玩的 demo:</p><video width="40%" src="https://www-old.codelab.club/video/wand.mp4" controls=""></video><br><video width="80%" src="https://www-old.codelab.club/video/cube%20symphony.mp4" controls=""></video><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="开始使用"></a>开始使用<a aria-hidden="true" tabindex="-1" class="hash-link" href="#开始使用" title="Direct link to heading">#</a></h3><p>不知道这些例子对你是否有吸引力，如果觉得它无趣极了，你应当寻找自己感兴趣的东西去，没什么比找到令你感兴趣的事更重要的了，何况大家才大二，有的是时间去折腾。</p><p>要是觉得它还挺有趣，不妨按照文档里的说明引导<a href="https://adapter.codelab.club/user_guide/install/" target="_blank" rel="noopener noreferrer">下载</a>下来玩一玩。</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="积木化编程"></a>积木化编程<a aria-hidden="true" tabindex="-1" class="hash-link" href="#积木化编程" title="Direct link to heading">#</a></h1><p>前头看到的视频里，经常出现一个充满彩色小块的界面，那东西叫<a href="https://zh.wikipedia.org/zh/Scratch" target="_blank" rel="noopener noreferrer">Scratch</a>。</p><p>CodeLab Adapter 最初的名字叫 Scratch Adapter，不知道你用没用过 <a href="https://scratch3v3.codelab.club/" target="_blank" rel="noopener noreferrer">Scratch</a>，如果你小时候没用过，你的弟弟妹妹们现在很可能正在用，它是这么个东西</p><img src="https://adapter.codelab.club/img/v2/scratch_eim_read_value.png" width="600"><p>Scratch 是个图形化编程工具，那些没有编程经验的孩子可以很快上手，使用它创作故事、游戏、交互艺术...目前全球有超过 4000 万的孩子使用它创作了数以亿计的编程项目。</p><p>CodeLab Adapter 的最初的目标之一就是使用 Python 来增强 Scratch 的能力，让<a href="https://scratch3v3.codelab.club/" target="_blank" rel="noopener noreferrer">Scratch</a>能够方便地构建与 AI、IoT、开源硬件有关的项目，它的最终目标是支持<a href="https://zh.wikipedia.org/zh/%E7%BA%A6%E7%BF%B0%C2%B7%E6%9D%9C%E5%A8%81" target="_blank" rel="noopener noreferrer">约翰·杜威</a>提倡的:</p><blockquote><p>Education is life.</p></blockquote><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="构建一个微信插件吧"></a>构建一个微信插件吧<a aria-hidden="true" tabindex="-1" class="hash-link" href="#构建一个微信插件吧" title="Direct link to heading">#</a></h1><p>大家日常使用微信比较多，接下来我们将带领大家基于 CodeLab Adapter 构建一个微信插件，一旦你完成这个插件，你的弟弟妹妹们就可以在<a href="https://scratch3v3.codelab.club/" target="_blank" rel="noopener noreferrer">Scratch</a>使用<code>微信积木</code>来创作好玩的项目了。基于你的插件，孩子们只需要在 Scratch 拖拽积木，拼拼搭搭，就能使用微信与他们的程序互动！或者构建一个新的微信聊天界面:</p><video width="80%" src="https://www-old.codelab.club/video/wechat.mp4" controls=""></video><p>由于<a href="https://scratch3v3.codelab.club/" target="_blank" rel="noopener noreferrer">Scratch</a>的易用性，你也可以让你奶奶基于你的插件来为微信编程。</p><p>这里头可以做的事情还有很多, 诸如同时使用微信插件和 CodeLab Adapter 社区里的 IoT 插件，你就可以使用微信控制家里的电气设备。</p><video width="40%" src="https://www-old.codelab.club/video/%E8%A6%81%E6%9C%89%E5%85%89.mp4.mp4" controls=""></video><p>设想你组织了个 party，每次有人按门铃都得去开门，是不是很烦躁？</p><p>把参与者拉到一个微信群，他们一到门口，在群里吼一身芝麻开门, 门即刻自动打开。 codelab-adapter 一端连接微信，一端连接智能门锁。要做到这点，只需在 Scratch 中拖几块积木，将它们拼一起即可。</p><video width="40%" src="https://www-old.codelab.club/video/wechat_iot.mp4" controls=""></video><p>期待你的奇思妙想。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="准备工作"></a>准备工作<a aria-hidden="true" tabindex="-1" class="hash-link" href="#准备工作" title="Direct link to heading">#</a></h3><p>为了编写插件程序，首先得搭建编程环境， 你需要独立完成以下工作:</p><ul><li>安装 <a href="https://www.python.org/downloads/release/python-374/" target="_blank" rel="noopener noreferrer">Python 3.7.4</a></li><li>安装 Chrome 或 Firefox 浏览器，并将其设为默认浏览器。</li></ul><p>以上步骤若遇到问题，你应该能通过搜索引擎自行解决。如果你无法使用<a href="https://www.google.com">Google</a>, <a href="https://cn.bing.com/" target="_blank" rel="noopener noreferrer">bing</a>(Bing Is Not Google)也是不错的选择。</p><p>安装完成之后，你应该能在命令行里(Windows 用户打开 CMD)运行<code>python</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="python-入门"></a>Python 入门<a aria-hidden="true" tabindex="-1" class="hash-link" href="#python-入门" title="Direct link to heading">#</a></h3><p>如果你是编程新手，推荐阅读<a href="https://book.douban.com/subject/10518092/" target="_blank" rel="noopener noreferrer">深入浅出程序设计</a>这本书。</p><p>如果你已经有过编程经验,<a href="https://book.douban.com/subject/30237842/" target="_blank" rel="noopener noreferrer">笨办法学 Python 3</a>能让你快速入门。</p><p>如果你已经入门了 Python，我们继续前进。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="安装第三方库"></a>安装第三方库<a aria-hidden="true" tabindex="-1" class="hash-link" href="#安装第三方库" title="Direct link to heading">#</a></h3><p>为了在 Python 中和微信通信，我们需要用到这个库:<a href="https://github.com/littlecodersh/ItChat" target="_blank" rel="noopener noreferrer">ItChat</a>， 我们稍后将使用它来构建我们的 CodeLab Adapter 微信插件。</p><p><a href="https://github.com/littlecodersh/ItChat" target="_blank" rel="noopener noreferrer">ItChat</a>是个 Python 库，它也是个开源项目，发布在 Github 上，它有清晰的文档，作者在 Github 里乐于解答用户的问题，是个很棒的项目。</p><p>我们可以用 pip 安装它（Windows 用户同样在 CMD 里）: <code>pip install itchat</code></p><p>安装成功后，就可以来写一个简单的聊天机器人了！</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="简单的聊天机器人"></a>简单的聊天机器人<a aria-hidden="true" tabindex="-1" class="hash-link" href="#简单的聊天机器人" title="Direct link to heading">#</a></h3><p>不知大家平时用什么编辑器写代码，如果还在挑选中, <a href="https://www.sublimetext.com/" target="_blank" rel="noopener noreferrer">Sublime Text</a>和<a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">VS code</a>是推荐的选择。</p><p>我自己的话，目前使用 <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">VS code</a> 和 vim 居多，但不推荐 vim。</p><p>让我们创建一个文件，叫它<code>my_little_bot.py</code>吧。</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#ffffff;background-color:#000"><div class="token-line" style="color:#ffffff"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> itchat</span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">@itchat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">msg_register</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">itchat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">TEXT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">text_reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    reply </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;我是机器人, 我收到如下消息: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">text</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">itchat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">auto_login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">hotReload</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">itchat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>你的第一个简单的微信聊天机器人就做完了，它会回复微信里收到的任何消息， 并在这条消息前头加上: <code>我是机器人, 我收到如下消息:</code></p><p>开始运行它吧: <code>python my_little_bot.py</code></p><p>给自己的微信号发消息来测试一下:</p><img src="/img/WechatIMG966.jpeg" width="300"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="将收到的消息传递给-scratch"></a>将收到的消息传递给 Scratch<a aria-hidden="true" tabindex="-1" class="hash-link" href="#将收到的消息传递给-scratch" title="Direct link to heading">#</a></h3><p>下边来正式开始构建 CodeLab Adapter 插件。插件负责将来自微信的消息传递到 Scratch 中。</p><p>在前头的程序里(<code>my_little_bot.py</code>), 我们已经了学会在 Python 代码中，接受来自微信好友的消息，并自动回复。</p><p>为了将微信消息传递到 Scratch，需要做 3 件事:</p><ol><li>构建微信插件。</li><li>下载并运行<a href="https://adapter.codelab.club/user_guide/install/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>。</li><li>打开 Scratch。</li><li>运行微信插件。</li></ol><p>先来完成第一件事: <code>构建微信插件</code>, 先上源码，稍后解释:</p><p>我们将这段代码放入<code>my_first_node.py</code>文件里，这儿引入了新的依赖，先安装它:<code>pip install codelab_adapter_client</code>。</p><p>这段代码的逻辑是:将微信中接收到的信息转发到 Scratch 中，<code>my_first_node.send_to_scratch(text)</code>负责转发消息，暂不讨论它是怎么运作的。在此只需知道通过继承<code>AdapterNode</code>，能获得与 Scratch 通信的能力即可。</p><p>第一步完成了，接下来:</p><ol start="2"><li>下载并运行<a href="https://adapter.codelab.club/user_guide/install/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a></li></ol><p>这步比较简单，只是下载运行软件。我们构建的<code>my_first_node.py</code>是一个 CodeLab Adapter 插件，它需要与 CodeLab Adapter 一同运行。</p><p>双击打开 Codelab Adapter。</p><p>Codelab Adapter 启动之后，将打开默认浏览器(建议将 Chrome 设为默认浏览器)。</p><img width="300px" src="https://adapter.codelab.club/img/v2/codelab_adapter_webui.png"><ol start="3"><li>打开 Scratch。</li></ol><p>点击前头页面里的<code>scratch3</code>，或者点击这个链接<a href="https://scratch3v2.codelab.club">CodeLab Scratch</a>，将打开如下页面:</p><p><img src="https://adapter.codelab.club/img/v2/codelab-scratch3.png"></p><p>点击图中箭头位置，进入 Scratch 插件列表，选择<code>微信插件</code>，拖拽积木, 拼出图示图案， 图中紫色的<code>说</code>积木，在左侧<code>外观</code>菜单里，它的功能是让角色说出内容。</p><img src="/img/scratch_wechat2.png" width="600"><p>以上积木的功能是: 让角色说出微信发来的内容。</p><ol start="4"><li>运行微信插件。</li></ol><p><code>python my_first_node.py</code></p><p>现在，可以给你的微信发信息了，这信息也会显示在 Scratch 中，虚拟角色将&quot;说&quot;出它来。</p><p><img src="/img/wechat_scratch_1_1.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="交响乐"></a>交响乐<a aria-hidden="true" tabindex="-1" class="hash-link" href="#交响乐" title="Direct link to heading">#</a></h3><p>微信的信息既已能够传递到 Scratch 中，我们便可以使用微信来与 Scratch 互动。</p><p>我们来构建这样一个应用: 将微信中的消息演奏为音乐。</p><video width="80%" src="/img/wechat_music.mp4" controls=""></video><p>图中<code>演奏音符</code>的积木来自 Scratch 插件列表里的第一个插件:<code>音乐</code>。</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="发布它！"></a>发布它！<a aria-hidden="true" tabindex="-1" class="hash-link" href="#发布它！" title="Direct link to heading">#</a></h1><p>我们已经完成了第一个 CodeLab Adapter 插件！</p><p>它可以将微信的的能力积木化，使其变为 Scratch 的编程元素。</p><p>现在让我们发布这个插件，让更多的人使用它。（当然你也可以增添更多好玩的功能再发布）</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="发布到-github"></a>发布到 Github<a aria-hidden="true" tabindex="-1" class="hash-link" href="#发布到-github" title="Direct link to heading">#</a></h3><p>如果你还不熟悉 Github，建议先浏览一下:</p><ul><li><a href="https://www.zhihu.com/question/20070065/answer/79557687" target="_blank" rel="noopener noreferrer">如何使用 GitHub？</a>。</li><li><a href="https://www.bilibili.com/video/av4857819/" target="_blank" rel="noopener noreferrer">最简单的 GitHub 入门教程</a></li></ul><hr><p>读完这两份资料，对 Github 应该就有基本了解了（git 是另一个话题，暂且把它放一边）。</p><p>为了发布我们的新插件，需要做以下工作:</p><ul><li>注册 Github 账号</li><li>创建新仓库</li><li>将插件(<code>my_first_node.py</code>)放入新仓库中<ul><li>可以直接在仓库里，点击<code>Upload files</code>（推荐）</li><li>也可以使用<a href="https://help.github.com/cn/desktop/getting-started-with-github-desktop/installing-github-desktop" target="_blank" rel="noopener noreferrer">GitHub Desktop</a></li></ul></li><li>添加说明文档: <code>README.md</code></li></ul><img src="/img/adapter_wechat_github_f577712e.png" width="80%"><p>目前我已经将完整的范例放在 Github 上了，供大家参考:<a href="https://github.com/wwj718/codelab_adapter_wechat_node" target="_blank" rel="noopener noreferrer">codelab_adapter_wechat_node</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="解答使用者遇到的问题"></a>解答使用者遇到的问题<a aria-hidden="true" tabindex="-1" class="hash-link" href="#解答使用者遇到的问题" title="Direct link to heading">#</a></h3><p>使用者在使用你的程序的时候，如果遇到困难，鼓励他们在<a href="https://github.com/wwj718/codelab_adapter_wechat_node/issues" target="_blank" rel="noopener noreferrer">Github issues</a>里提问；如果用户有改进建议，鼓励他们提交<a href="https://github.com/wwj718/codelab_adapter_wechat_node/pulls" target="_blank" rel="noopener noreferrer">Pull Requests</a>。</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="faq"></a>FAQ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#faq" title="Direct link to heading">#</a></h1><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="我想继续前进，该怎么做呢？"></a>我想继续前进，该怎么做呢？<a aria-hidden="true" tabindex="-1" class="hash-link" href="#我想继续前进，该怎么做呢？" title="Direct link to heading">#</a></h3><p>阅读<a href="https://adapter.codelab.club/dev_guide/introduction/" target="_blank" rel="noopener noreferrer">开发者文档</a>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="有更完整的微信插件源码供参考学习吗"></a>有更完整的微信插件源码供参考学习吗?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#有更完整的微信插件源码供参考学习吗" title="Direct link to heading">#</a></h3><p>有的, CodeLab Adapter 内置了一个微信插件：<a href="https://github.com/Scratch3Lab/codelab_adapter_extensions/blob/master/extensions_v2/extension_wechat.py">extension_wechat.py</a>，基于这个插件，可以在 Scratch 中收发微信消息，无论来自朋友还是群聊。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="codelab-是个啥"></a>CodeLab 是个啥?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#codelab-是个啥" title="Direct link to heading">#</a></h3><p><a href="https://www.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab</a>是个非营利组织,我们的使命是:</p><blockquote><p>传递编程的乐趣，帮助孩子成为数字时代的创作者.</p></blockquote><p>欢迎你成为我们的志愿者.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="你是不是骗子，我怎么没有找到-codelab-adapter-的源码"></a>你是不是骗子，我怎么没有找到 CodeLab Adapter 的源码?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#你是不是骗子，我怎么没有找到-codelab-adapter-的源码" title="Direct link to heading">#</a></h3><p>CodeLab Adapter 的所有插件源码都是公开的:<a href="https://github.com/Scratch3Lab/codelab_adapter_extensions" target="_blank" rel="noopener noreferrer">codelab_adapter_extensions</a>，核心源码也承诺公开，具体的时间规划参考:<a href="https://www.codelab.club/blog/codelab-adapter-v2/" target="_blank" rel="noopener noreferrer">CodeLab Adapter v2</a></p></section><footer class="row margin-vert--lg"><div class="col"><strong>标签：</strong><a class="margin-horiz--sm" href="/blog/tags/技术文档">技术文档</a><a class="margin-horiz--sm" href="/blog/tags/编程学习">编程学习</a><a class="margin-horiz--sm" href="/blog/tags/adapter">Adapter</a><a class="margin-horiz--sm" href="/blog/tags/python">Python</a></div></footer></article><div><a href="https://github.com/CodeLabClub/NewCodeLabWeb/tree/master/blog/publish-1st-codelab-adapter-extension.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2019/09/27/adapter-open-platform"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">« CodeLab Adapter v2 接入第三方平台</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2019/09/09/about-opensource"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">开源项目与开源社区 »</div></a></div></nav></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="http://discuss.codelab.club/" target="_blank" rel="noopener noreferrer" class="footer__link-item" to="http://discuss.codelab.club/">CodeLab 论坛</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/2021/07/21/CodeLab-handbook">手册</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/2020/08/20/tools">下载</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/2020/04/01/欢迎关注CodeLab微信公众号">微信公众号</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.zhihu.com/people/codelab-83" target="_blank" rel="noopener noreferrer" class="footer__link-item" to="https://www.zhihu.com/people/codelab-83">在知乎</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://space.bilibili.com/607249092" target="_blank" rel="noopener noreferrer" class="footer__link-item" to="https://space.bilibili.com/607249092">在B站</a></li></ul></div></div><div class="text--center"><div>Copyright © 2022 CodeLab&nbsp&nbsp&nbsp<a style="color:white" target="_blank" href="https://beian.miit.gov.cn/">粤ICP备2021005905号-1</a><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3be250eb38d350c4a750c4b0bbfe513e";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></div></div></div></footer></div>
<script src="/styles.71fb8b2a.js"></script>
<script src="/runtime~main.676e3002.js"></script>
<script src="/main.aad9f3c1.js"></script>
<script src="/1.af123087.js"></script>
<script src="/2.2944d33e.js"></script>
<script src="/3.ffbe02f2.js"></script>
<script src="/ccc49370.9d6295d9.js"></script>
<script src="/8c95c387.b62ed20c.js"></script>
</body>
</html>