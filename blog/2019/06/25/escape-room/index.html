<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/video.js/dist/video-js.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@videojs/themes@1/dist/fantasy/index.css">
<script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.6.1/jquery.lettering.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/video.js/dist/video.min.js"></script>
<script src="/script/settheme.js"></script><title data-react-helmet="true">空间编程、物理计算与密室逃脱 | CodeLab</title><meta data-react-helmet="true" property="og:title" content="空间编程、物理计算与密室逃脱 | CodeLab"><meta data-react-helmet="true" name="description" content="就象一个躺在黑房间里但是醒在床上的人，忽然看见窗帘上透进一道光线，心里知道只要拉开窗帘，眼前就会展开一片晨光朗照的原野似的。 -- 毛姆 《刀锋》"><meta data-react-helmet="true" property="og:description" content="就象一个躺在黑房间里但是醒在床上的人，忽然看见窗帘上透进一道光线，心里知道只要拉开窗帘，眼前就会展开一片晨光朗照的原野似的。 -- 毛姆 《刀锋》"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/styles.84b1147b.css">
<link rel="preload" href="/styles.71fb8b2a.js" as="script">
<link rel="preload" href="/runtime~main.676e3002.js" as="script">
<link rel="preload" href="/main.aad9f3c1.js" as="script">
<link rel="preload" href="/1.af123087.js" as="script">
<link rel="preload" href="/2.2944d33e.js" as="script">
<link rel="preload" href="/3.ffbe02f2.js" as="script">
<link rel="preload" href="/ccc49370.9d6295d9.js" as="script">
<link rel="preload" href="/160a08ad.993168d7.js" as="script">
</head>
<body>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="My Site Logo"></a><a href="https://create.codelab.club" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">创作平台</a><a class="navbar__item navbar__link" href="/projects">玩给你看</a><a href="https://create.codelab.club/ideas#course" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">课程</a><a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a><a class="navbar__item navbar__link" href="/blog/2020/09/25/about-codelab-2020">关于我们</a><a href="https://github.com/CodeLabClub" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="My Site Logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://create.codelab.club" target="_blank" rel="noopener noreferrer" class="menu__link">创作平台</a></li><li class="menu__list-item"><a class="menu__link" href="/projects">玩给你看</a></li><li class="menu__list-item"><a href="https://create.codelab.club/ideas#course" target="_blank" rel="noopener noreferrer" class="menu__link">课程</a></li><li class="menu__list-item"><a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer" class="menu__link">文档</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">博客</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/2020/09/25/about-codelab-2020">关于我们</a></li><li class="menu__list-item"><a href="https://github.com/CodeLabClub" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_kDB-">空间编程、物理计算与密室逃脱</h1><div class="margin-vert--md"><time datetime="2019-06-25T00:00:00.000Z" class="blogPostDate_2HVl">2019年6月25日   · 1 min 阅读时长</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">种瓜</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><img class="img-responsive" src="/img/room_7d2361f2.png"><blockquote><p> 就象一个躺在黑房间里但是醒在床上的人，忽然看见窗帘上透进一道光线，心里知道只要拉开窗帘，眼前就会展开一片晨光朗照的原野似的。 -- 毛姆 《刀锋》</p></blockquote><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="前言"></a>前言<a aria-hidden="true" tabindex="-1" class="hash-link" href="#前言" title="Direct link to heading">#</a></h1><p>本文来自今早与@李懿的交流。</p><p>交流中，@李懿提到与朋友介绍Neverland，这个朋友喜欢<code>解谜游戏</code>，提议说<code>解谜</code>的元素是否可能加入到Nevlernad空间里</p><blockquote><p> 我朋友提到说，既然我们可以联动空间里的任何物体，有可能实现的场景如：① 通过操作机关,将灯的颜色按特定顺序排列后，激活投影仪，在墙壁上投影出提示信息；② 带有四位数字的密码锁，允许通过简单编程来暴力破解 ③ 在空间中寻找 Scratch 的拼图积木来解密（机器视觉识别出拼出的图案，运行对应逻辑）。</p></blockquote><p>此外，@李懿还补充到</p><blockquote><p> “两只老虎”的例子给了我一个启发，用户在场景中演奏特定曲目，识别后解锁。曲目的选取则与故事内容发生关联。</p></blockquote><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="两只老虎、传感器与萨满巫师"></a>两只老虎、传感器与萨满巫师<a aria-hidden="true" tabindex="-1" class="hash-link" href="#两只老虎、传感器与萨满巫师" title="Direct link to heading">#</a></h1><p>@李懿提到的<code>两只老虎</code>是我们此前做的一个演示：将三个小伙伴的手掌转化为钢琴的三个按键(<code>Do-Re-Mi</code>)。接触手掌时，如同按下钢琴键。</p><video width="400" src="https://www-old.codelab.club/video/%E4%B8%A4%E5%8F%AA%E8%80%81%E8%99%8E.mp4" controls=""></video><p>在这个例子中，通过一个传感器，采集到人体的接触信号，经过简单的编程，就可以将人与人的接触转化为音符。</p><p>利用同样的传感器，也可以捕捉到人与物体的接触。例如我们将传感器连接到楼梯上，就可以将楼梯变成钢琴阶梯，你踩在不同的阶梯上，房间里随即响起不同的旋律。</p><p>值得注意的是，我们在此谈论的不是一个商品，你可以很容易在市面上买到<code>钢琴阶梯</code>，这些商品化的专有设备是容易购买的。我们在此谈论的是，基于通用的传感器和CodeLab的创作平台，你可以轻易创作出这些东西，你的很多点子是市面上所没有的，整个宇宙可能都没有，它只存在你的脑子里，我们希望帮你表达出他们。</p><p>利用前头提到的传感器，在<code>解谜游戏</code>中我们可以做更多有趣的设计。</p><p>设想一个萨满巫师被困在岩洞里，岩壁上满是象形文字和古代狩猎图案，眼前有一个巨石堵住了出口。巫师看完墙壁上的文字，低头走到巨石下，他赤脚站在一块印有古代图腾的石板上，左手碰到巨石的瞬间，巨石豁然开启。(这一幕颇似《塞尔达》里主角探索地下神庙的场景)。利用上述的传感器，我们完全可以在技术上实现它，技术层面，当巫师站在那块特殊的石板上时，手掌碰到巨石，他的身体成为一根导线，接通了电路，触发开关。</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="neverland-与-codelab-adapter"></a>Neverland 与 CodeLab Adapter<a aria-hidden="true" tabindex="-1" class="hash-link" href="#neverland-与-codelab-adapter" title="Direct link to heading">#</a></h1><p>前头只用到一个传感器，便可实现上述这些有趣的场景。在我们的办公室（Neverland）里，有许许多多类似的有趣而强大的传感器。从捕获目光的眼动仪传感器、捕获手部运动的手势传感器 到 捕获脑电波的传感器应有尽有。</p><p>CodeLab构建了<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>这个通用工具，<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>试图连接万物，让它们能彼此沟通，用户可以通过简易图形化编程即可赋予他们新的能力。</p><p>目前我们的办公室（Neverland）整个空间都由<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>驱动，办公室里的的门禁、窗帘、电视、彩灯、冰箱插座,以及桌上的纸盒子(Switch Labo)、机器人(BB8/Cozmo/Vector/LejuRobot) 、飞行器(DJI Tello/Parrot)、儿童玩具(toio)...全部都由<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>驱动。</p><p>换句话说通过<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>可以为整个空间编程，赋予空间新的交互逻辑。</p><p>与@李懿的交流过程中，我们想到<code>密室逃脱</code>也许是非常有趣的应用场景，它也是绝佳的教育场景，因为解谜者的好奇心已经被充分激发。</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="密室逃脱"></a>密室逃脱<a aria-hidden="true" tabindex="-1" class="hash-link" href="#密室逃脱" title="Direct link to heading">#</a></h1><p>按照维基百科的定义:</p><blockquote><p> 密室逃脱一般泛指一种特定的游戏类型。在该类游戏中，玩家的视角通常以第一视角为主，并且往往被限定在一个近乎完全封闭或者对自身存在威胁的环境内，需要发现和利用身边的物品（工具），完成指定任务，最终达到逃离该区域的目的。正因如此，该类游戏通常也被认为是属于解谜冒险类游戏的一个特殊分支。</p></blockquote><p>今天的密室系统，在谜题方面可以极尽聪明灵巧，谜题的破解过程运行在解谜者大脑里，密室空间只要提供线索即可，谜题的内容本身不受任何限制。</p><p>但密室在机关方面的设计却很薄弱。如果依赖于机械装置，设计一些精巧的交互系统是极为困难的，天才机械师可并不好找。天才机械师要么像鲁班一样忙于在前线输出(《王者荣耀》)，要么像维特根斯坦一样跑去当哲学家了。由此可见，天才机械师不仅人数稀少，而且不太专注于老本行，喜欢跨界工作。 但我们知道，在游戏里制作一个有趣的机关是容易的，不需要天才游戏开发者，虚拟世界里的一切交互都可由程序轻松定义，它们是<code>软</code>的，是一种可以任意捏造的橡皮泥。如果我们能将空间软件化，很多问题就变得简单了。</p><p><a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>除了用于教育，另一个应用域就是物理计算：驱动无数传感器，为物理世界编程，最终驱动整个空间。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="技术视角"></a>技术视角<a aria-hidden="true" tabindex="-1" class="hash-link" href="#技术视角" title="Direct link to heading">#</a></h3><p>不妨<code>密室</code>看作一个交互式的物理系统，传感器连接了数字世界和物理世界(我们的现实世界)。用户的行为作为系统输入（传感器是采集设备），系统输出则为机关的反馈。</p><p><code>密室</code>中可能会有数十数百个传感设备。<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>将其连在一起，密室创建者 可以在我们提供的创作工具(CodeLab Scratch)上定义密室的机关规则。</p><p>由<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>驱动的密室是一个live system，一种活的系统，它在白天的行为和晚上可以完全不同，所有这些可以由密室创建者随时定义它。</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="爱迪生密室"></a>爱迪生密室<a aria-hidden="true" tabindex="-1" class="hash-link" href="#爱迪生密室" title="Direct link to heading">#</a></h1><p>目前在旧金山，便存在一个与上述描述相似的密室系统:<a href="https://palace-games.com/the-edison-escape-room/" target="_blank" rel="noopener noreferrer">爱迪生密室</a></p><p><img src="/img/room_1af9bf0f.png"></p><p>它在全球的密室中的排名第六！</p><img width="500" src="/img/room_f0b39422.png"><p>这是一个充满灯泡、传感器和沉浸式体验的密室。</p><p>密室由Raspberry Pi驱动，包含有数百个传感器和执行器</p><img width="500" src="/img/room_df72885f.png"><p>数百个传感器和执行器之间在进行高速通信，他们之间的通信由<a href="https://github.com/MrYsLab/python_banyan" target="_blank" rel="noopener noreferrer">Banyan</a>驱动，<a href="https://github.com/MrYsLab/python_banyan" target="_blank" rel="noopener noreferrer">Banyan</a>是一个为物理计算设计的消息系统，我写过一篇关于它的架构设计的文章：<a href="https://blog.just4fun.site/Python-Banyan-note-Architecture.html">Python Banyan学习笔记之架构设计</a>。 这个项目在架构上和<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>有许多相似之处，都基于ZeroMQ，将消息视为一等公民。此外，我也是这个项目的贡献者之一。</p><p>在今天，如果你想设计一个驱动整个空间的系统，高速的消息通信是核心。如果考虑到空间功能会持续调整和升级，那么系统的开放性就是必要的。考虑到开放性，目前大部分的商业项目都可以排除在外。满足以上特质的项目，据我所知，目前至少有四个:</p><ul><li><a href="https://dynamicland.org">dynamicland</a></li><li><a href="https://github.com/MrYsLab/python_banyan" target="_blank" rel="noopener noreferrer">Banyan</a></li><li><a href="https://adapter.codelab.club">CodeLab Adapter</a></li><li><a href="https://www.home-assistant.io">Home Assistant</a></li></ul><p>近期CodeLab将在参与一个生物实验室的建设，在那儿我们将用<a href="https://adapter.codelab.club/" target="_blank" rel="noopener noreferrer">CodeLab Adapter</a>驱动整个空间，赋予它智能。</p><p>也欢迎阅读本文的密室逃脱从业者联系我们：）</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="参考"></a>参考<a aria-hidden="true" tabindex="-1" class="hash-link" href="#参考" title="Direct link to heading">#</a></h1><ul><li><a href="https://en.wikipedia.org/wiki/Physical_computing" target="_blank" rel="noopener noreferrer">Physical computing</a></li><li><a href="https://zh.wikipedia.org/zh-hans/%E5%AF%86%E5%AE%A4%E9%80%83%E8%84%B1" target="_blank" rel="noopener noreferrer">密室逃脱</a></li><li><a href="https://dynamicland.org/" target="_blank" rel="noopener noreferrer">dynamicland</a></li><li><a href="https://blog.just4fun.site/scratch3-smart-home.html#_6">空间编程</a></li><li><a href="https://experiments.withgoogle.com/objectifier-spatial-programming" target="_blank" rel="noopener noreferrer">Objectifier Spatial Programming</a></li><li><a href="https://blog.just4fun.site/Pharo-IoT.html#_2">空间操作系统</a></li><li><a href="https://www.raspberrypi.org/blog/raspberry-pi-escape-room/" target="_blank" rel="noopener noreferrer">Raspberry Pi vs a Raspberry Pi–powered escape room</a></li></ul></section><footer class="row margin-vert--lg"><div class="col"><strong>标签：</strong><a class="margin-horiz--sm" href="/blog/tags/编程学习">编程学习</a><a class="margin-horiz--sm" href="/blog/tags/adapter">Adapter</a><a class="margin-horiz--sm" href="/blog/tags/neverland">Neverland</a></div></footer></article><div><a href="https://github.com/CodeLabClub/NewCodeLabWeb/tree/master/blog/escape-room.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2019/06/26/A-new-definition-of-Computational-Thinking"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">« [译]计算思维的新定义</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2019/06/25/is-gamification-programming-a-good-idea"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">游戏化编程是个好主意吗？ »</div></a></div></nav></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="http://discuss.codelab.club/" target="_blank" rel="noopener noreferrer" class="footer__link-item" to="http://discuss.codelab.club/">CodeLab 论坛</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/2021/07/21/CodeLab-handbook">手册</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/2020/08/20/tools">下载</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/2020/04/01/欢迎关注CodeLab微信公众号">微信公众号</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.zhihu.com/people/codelab-83" target="_blank" rel="noopener noreferrer" class="footer__link-item" to="https://www.zhihu.com/people/codelab-83">在知乎</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://space.bilibili.com/607249092" target="_blank" rel="noopener noreferrer" class="footer__link-item" to="https://space.bilibili.com/607249092">在B站</a></li></ul></div></div><div class="text--center"><div>Copyright © 2022 CodeLab&nbsp&nbsp&nbsp<a style="color:white" target="_blank" href="https://beian.miit.gov.cn/">粤ICP备2021005905号-1</a><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3be250eb38d350c4a750c4b0bbfe513e";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></div></div></div></footer></div>
<script src="/styles.71fb8b2a.js"></script>
<script src="/runtime~main.676e3002.js"></script>
<script src="/main.aad9f3c1.js"></script>
<script src="/1.af123087.js"></script>
<script src="/2.2944d33e.js"></script>
<script src="/3.ffbe02f2.js"></script>
<script src="/ccc49370.9d6295d9.js"></script>
<script src="/160a08ad.993168d7.js"></script>
</body>
</html>