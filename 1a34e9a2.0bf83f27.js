(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{155:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return p})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return l})),a.d(t,"default",(function(){return o}));var r=a(2),n=a(9),b=(a(0),a(373)),p={date:new Date("2020-06-28T00:00:00.000Z"),title:"CodeLab \u2764 Siri",slug:"codelab-like-siri",tags:["\u6280\u672f\u6587\u6863","\u73a9\u7ed9\u4f60\u770b","CodeLab\u2764\u9009","Adapter","Neverland"],author:"CodeLab",categories:["CodeLab"]},i={permalink:"/blog/2020/06/28/codelab-adapter-siri",editUrl:"https://github.com/CodeLabClub/NewCodeLabWeb/tree/master/blog/codelab-adapter-siri.md",source:"@site/blog/codelab-adapter-siri.md",description:"\u6211\u4eec\u8fd1\u671f\u53d1\u5e03\u4e86\u4e00\u4e2a\u65b0\u7684 Adapter \u63d2\u4ef6: extensionhttpeim.py (\u53ef\u5728\u63d2\u4ef6\u5e02\u573a\u4e0b\u8f7d)",date:"2020-06-28T00:00:00.000Z",tags:[{label:"\u6280\u672f\u6587\u6863",permalink:"/blog/tags/\u6280\u672f\u6587\u6863"},{label:"\u73a9\u7ed9\u4f60\u770b",permalink:"/blog/tags/\u73a9\u7ed9\u4f60\u770b"},{label:"CodeLab\u2764\u9009",permalink:"/blog/tags/code-lab-\u2764-\u9009"},{label:"Adapter",permalink:"/blog/tags/adapter"},{label:"Neverland",permalink:"/blog/tags/neverland"}],title:"CodeLab \u2764 Siri",readingTime:.68,truncated:!0,prevItem:{title:"\u7f16\u7a0b\u5c11\u5e74\u518d\u52a0\u4e00",permalink:"/blog/2020/06/29/\u7f16\u7a0b\u5c11\u5e74\u518d\u52a0\u4e00"},nextItem:{title:"Hey Siri, \u63a7\u5236\u4e50\u9ad8",permalink:"/blog/2020/06/28/hey-siri"}},l=[{value:"Demo",id:"demo",children:[]},{value:"\u539f\u7406",id:"\u539f\u7406",children:[{value:"\u6784\u5efa\u4e00\u4e2a\u63a5\u53d7 http \u8bf7\u6c42\u7684 web server",id:"\u6784\u5efa\u4e00\u4e2a\u63a5\u53d7-http-\u8bf7\u6c42\u7684-web-server",children:[]},{value:"\u4f7f\u7528 Siri \u7684\u8f93\u5165(\u8bed\u97f3\u8bc6\u522b\u7ed3\u679c)\u6784\u5efa http \u8bf7\u6c42",id:"\u4f7f\u7528-siri-\u7684\u8f93\u5165\u8bed\u97f3\u8bc6\u522b\u7ed3\u679c\u6784\u5efa-http-\u8bf7\u6c42",children:[]}]},{value:"\u8fdb\u4e00\u6b65",id:"\u8fdb\u4e00\u6b65",children:[]}],c={rightToc:l};function o(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(b.b)("wrapper",Object(r.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("p",null,"\u6211\u4eec\u8fd1\u671f\u53d1\u5e03\u4e86\u4e00\u4e2a\u65b0\u7684 Adapter \u63d2\u4ef6: ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/CodeLabClub/codelab_adapter_extensions/blob/master/extensions_v3/extension_http_eim.py"}),"extension_http_eim.py")," (\u53ef\u5728",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://adapter.codelab.club/extension_guide/extension_market/"}),"\u63d2\u4ef6\u5e02\u573a"),"\u4e0b\u8f7d)"),Object(b.b)("p",null,"\u4f7f\u7528\u8be5\u63d2\u4ef6\uff0c\u53ef\u5c06 Siri \u63a5\u5165\u5230 Scratch\uff0c\u5e76\u4e8e CodeLab \u53ef\u7f16\u7a0b\u7a7a\u95f4\u91cc\u7684\u4e00\u5207\u4e92\u52a8\u3002"),Object(b.b)("h2",{id:"demo"},"Demo"),Object(b.b)("video",{width:"80%",src:"https://adapter.codelab.club/video/1593328552202841.mp4",controls:"controls"}),Object(b.b)("p",null,"Scratch \u76f8\u5173\u6e90\u7801"),Object(b.b)("p",null,Object(b.b)("img",Object(r.a)({parentName:"p"},{src:"https://adapter.codelab.club/img/ab316a73cce7fc8e3d4ffe010bc514dc.png",alt:null}))),Object(b.b)("h2",{id:"\u539f\u7406"},"\u539f\u7406"),Object(b.b)("p",null,"\u539f\u7406\u5176\u5b9e\u5f88\u7b80\u5355:"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u6784\u5efa\u4e00\u4e2a\u63a5\u53d7 http \u8bf7\u6c42\u7684 web server"),Object(b.b)("li",{parentName:"ul"},"\u4f7f\u7528 Siri \u7684\u8f93\u5165(\u8bed\u97f3\u8bc6\u522b\u7ed3\u679c)\u6784\u5efa http \u8bf7\u6c42")),Object(b.b)("h3",{id:"\u6784\u5efa\u4e00\u4e2a\u63a5\u53d7-http-\u8bf7\u6c42\u7684-web-server"},"\u6784\u5efa\u4e00\u4e2a\u63a5\u53d7 http \u8bf7\u6c42\u7684 web server"),Object(b.b)("p",null,Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/CodeLabClub/codelab_adapter_extensions/blob/master/extensions_v3/extension_http_eim.py"}),"extension_http_eim.py")," \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a web server\uff0cfork \u81ea",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/CodeLabClub/codelab_adapter_extensions/blob/master/extensions_v3/extension_webserver.py"}),"extension_webserver.py")),Object(b.b)("p",null,"\u63d2\u4ef6\u8fd0\u884c\u4e4b\u540e\uff0c\u4f1a\u6253\u5f00\u4e00\u4e2a\u65b0\u9875\u9762\uff0c\u663e\u793a\u5f53\u524d\u8ba1\u7b97\u673a\u7684 IP\u3002"),Object(b.b)("p",null,"\u5b83\u6709\u4e24\u4e2a\u91cd\u8981 API:"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u63a5\u53d7\u6765\u81ea ",Object(b.b)("inlineCode",{parentName:"li"},"http://<IP>:18081/api/message/eim?message=hi")," \u7684",Object(b.b)("inlineCode",{parentName:"li"},"GET"),"\u8bf7\u6c42, \u5e76\u5c06\u8bf7\u6c42\u53c2\u6570 message \u7684\u503c\u4f5c\u4e3a eim \u6d88\u606f\u53d1\u9001\u5230 Scratch\u3002"),Object(b.b)("li",{parentName:"ul"},"\u63a5\u53d7\u6765\u81ea ",Object(b.b)("inlineCode",{parentName:"li"},"http://<IP>:18081/api/message/eim")," \u7684",Object(b.b)("inlineCode",{parentName:"li"},"POST"),"\u8bf7\u6c42, \u5e76\u5c06\u8bf7\u6c42\u53c2\u6570 message \u7684\u503c\u4f5c\u4e3a eim \u6d88\u606f\u53d1\u9001\u5230 Scratch(json)")),Object(b.b)("p",null,"\u5982\u679c\u4f60\u7684\u8bf7\u6c42\u53c2\u6570\u5305\u542b\u4e2d\u6587\uff0c\u5efa\u8bae\u4f7f\u7528 POST\u3002"),Object(b.b)("p",null,"\u719f\u6089 Adapter \u7684\u670b\u53cb\u53ef\u80fd\u4f1a\u53d1\u73b0\uff0c\u8be5\u63d2\u4ef6\u7684\u529f\u80fd\u548c ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://adapter.codelab.club/dev_guide/REST-API/"}),"Adapter REST API"),"\u76f8\u8fd1\uff0c\u4e3a\u4f55\u8981\u5199\u6210\u72ec\u7acb\u63d2\u4ef6\uff1f\u539f\u56e0\u662f Adapter \u9ed8\u8ba4\u91c7\u7528 https\uff0c\u4f46 https \u5bb9\u6613\u9047\u5230\u5404\u79cd\u5b89\u5168\u673a\u5236\u95ee\u9898\uff0c http api \u5219\u4e0d\u4f1a\u9047\u5230\u8fd9\u7c7b\u95ee\u9898\u3002"),Object(b.b)("h3",{id:"\u4f7f\u7528-siri-\u7684\u8f93\u5165\u8bed\u97f3\u8bc6\u522b\u7ed3\u679c\u6784\u5efa-http-\u8bf7\u6c42"},"\u4f7f\u7528 Siri \u7684\u8f93\u5165(\u8bed\u97f3\u8bc6\u522b\u7ed3\u679c)\u6784\u5efa http \u8bf7\u6c42"),Object(b.b)("p",null,"\u5229\u7528 iOS \u7684",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://apps.apple.com/cn/app/%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4/id915249334"}),"\u5feb\u6377\u6307\u4ee4"),"\u3002\u6211\u4eec\u53ef\u4ee5\u5728 iOS \u91cc\u81ea\u5b9a\u4e49\u4e00\u4e9b\u4efb\u52a1\u3002"),Object(b.b)("p",null,Object(b.b)("img",Object(r.a)({parentName:"p"},{src:"https://adapter.codelab.club/img/IMG_0014.PNG",alt:null}))),Object(b.b)("p",null,Object(b.b)("img",Object(r.a)({parentName:"p"},{src:"https://adapter.codelab.club/img/IMG_0015.PNG",alt:null}))),Object(b.b)("p",null,"\u4ee5\u4e0a\u81ea\u5b9a\u4e49\u4efb\u52a1\u7684\u529f\u80fd\u662f",Object(b.b)("inlineCode",{parentName:"p"},"\u63a7\u5236\u4e50\u9ad8"),"\uff0c \u5f53\u4f60\u8bf4",Object(b.b)("inlineCode",{parentName:"p"},"hey siri \u63a7\u5236\u4e50\u9ad8")," \u8fd9\u6761\u4efb\u52a1\u5c31\u4f1a\u88ab\u89e6\u53d1\u3002"),Object(b.b)("hr",null),Object(b.b)("p",null,"\u5047\u8bbe\u4f60\u9009\u62e9\u4e86",Object(b.b)("inlineCode",{parentName:"p"},"\u987a\u65f6\u9488\u65cb\u8f6c"),", \u8be5\u547d\u4ee4\u5c31\u4f1a\u7ecf\u7531 http post \u5230 web server\uff0c\u518d\u81ea\u52a8\u8f6c\u5316\u4e3a EIM \u6d88\u606f\u8fdb\u5165 Adapter\u3002\u4f60\u5728 CodeLab Scratch \u4e2d\u5c31\u80fd\u4e3a\u4e50\u9ad8\u7684",Object(b.b)("inlineCode",{parentName:"p"},"\u987a\u65f6\u9488\u65cb\u8f6c"),"\u7f16\u5199\u76f8\u5e94\u903b\u8f91\u3002"),Object(b.b)("p",null,"\u6f14\u793a\u89c6\u9891\u91cc\u7684\u63a7\u5236\u623f\u95f4\u548c\u63a7\u5236\u5c0f\u8f66\u4e5f\u662f\u540c\u7406\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u901a\u8fc7\u4f7f\u7528",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://apps.apple.com/cn/app/%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4/id915249334"}),"\u5feb\u6377\u6307\u4ee4"),"\u91cc\u7684",Object(b.b)("inlineCode",{parentName:"p"},"\u5217\u8868"),"\uff0c\u4f60\u53ef\u4ee5\u6784\u5efa\u591a\u8f6e\u5bf9\u8bdd\u3002"),Object(b.b)("p",null,"\u5feb\u6377\u6307\u4ee4\u91cc\u8fd8\u6709\u5f88\u591a\u6709\u610f\u601d\u7684\u6784\u9020\u79ef\u6728\u3002"),Object(b.b)("h2",{id:"\u8fdb\u4e00\u6b65"},"\u8fdb\u4e00\u6b65"),Object(b.b)("p",null,"\u5982\u679c\u4f60\u60f3\u5bf9\u6587\u672c\u505a\u8fdb\u4e00\u6b65\u7684\u8bed\u4e49\u5904\u7406\uff0c\u53c8\u4e0d\u60f3\u4f7f\u7528\u4e91\u7aef API\uff0c\u63a8\u8350\u4f7f\u7528",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/crownpku/Rasa_NLU_Chi"}),"Rasa_NLU_Chi"),"\uff0c\u6211\u8fd1\u671f\u8ba1\u5212\u57fa\u4e8e\u5b83\u5199\u4e00\u4e2a Adapter \u8bed\u4e49\u89e3\u6790\u63d2\u4ef6\u3002"),Object(b.b)("p",null,"NLU \u7684\u5904\u7406\u7ed3\u679c\u5982\u4f55\u64cd\u63a7\u5b9e\u7269\u5462\uff1f",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://almond.stanford.edu/doc/thingtalk-intro.md"}),"ThingTalk")," \u548c ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://iot.mozilla.org/"}),"WebThings")," \u63d0\u4f9b\u4e86\u5f88\u597d\u7684\u601d\u8def\u3002"),Object(b.b)("h1",{id:"\u53c2\u8003"},"\u53c2\u8003"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(r.a)({parentName:"li"},{href:"https://almond.stanford.edu/doc/thingtalk-intro.md"}),"ThingTalk"))))}o.isMDXComponent=!0},373:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var r=a(0),n=a.n(r);function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},b=Object.keys(e);for(r=0;r<b.length;r++)a=b[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(r=0;r<b.length;r++)a=b[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=n.a.createContext({}),o=function(e){var t=n.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=o(e.components);return n.a.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},u=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,b=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=o(a),u=r,m=d["".concat(p,".").concat(u)]||d[u]||s[u]||b;return a?n.a.createElement(m,i(i({ref:t},c),{},{components:a})):n.a.createElement(m,i({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var b=a.length,p=new Array(b);p[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,p[1]=i;for(var c=2;c<b;c++)p[c]=a[c];return n.a.createElement.apply(null,p)}return n.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);